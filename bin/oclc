#!/usr/bin/env python

"""
Compile OpenCL kernel with PyOpenCL.
Useful when checking for errors.
"""

import pyopencl as cl
from sys import argv, stdin


ctx = cl.create_some_context()
queue = cl.CommandQueue(ctx)
compile = lambda io: cl.Program(ctx, io.read()).build()

if __name__ == "__main__":
    if len(argv) > 1:
        for f in argv[1:]:
            compile(open(f))
    else:
        compile(stdin)


